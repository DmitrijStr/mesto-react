{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/Api.js","components/App.js","serviceWorker.js","index.js","images/logo.svg","images/plus.svg"],"names":["Header","className","href","src","logoPath","alt","CurrentUserContext","React","createContext","Card","props","card","link","name","likes","currentUser","useContext","isOwnCard","owner","_id","isLiked","some","i","cardLikeButtonClassName","type","onClick","onCardDelete","style","backgroundImage","onCardClick","onCardDislike","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","plusButtonPath","map","key","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","children","onSubmit","method","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","id","required","minLength","maxLength","autoComplete","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","placeholder","ref","defaultValue","AddPlacePopup","placeLink","setPlaceLink","placeName","setPlaceName","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","Error","status","then","result","fetch","_getResponseData","newCard","body","JSON","stringify","newData","authorization","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","isCardPopupOpen","setCardPopupOpen","setcurrentUser","getCards","closeAllPopups","getInitialCards","data","items","el","catch","err","console","log","getUserInfo","Provider","deleteCard","filter","putLike","newCards","c","removeLike","patchUserInfo","newAvatar","patchAvatar","postCard","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.b072006d.chunk.js","sourcesContent":["import React from 'react';\nimport logoPath from '../images/logo.svg';\n\nfunction Header() {\n\treturn (\n\t\t<header className=\"header\">\n\t\t\t<a href='#'><img className=\"header__logo\" src={logoPath} alt='изображение логотипа' /></a>\n\t\t</header>\n\t);\n}\n\nexport default Header;","import React from 'react';\nexport const CurrentUserContext = React.createContext();","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n\n\tconst { card, link, name, likes } = props;\n\tconst currentUser = React.useContext(CurrentUserContext);\n\tconst isOwnCard = card.owner._id === currentUser._id;\n\tconst isLiked = card.likes.some(i => i._id === currentUser._id);\n\tconst cardLikeButtonClassName = (\n\t\t`photo-grid__like-button hover-button ${isLiked ? 'photo-grid__like-button_type_active' : ''}`\n\t);\n\n\tfunction handleClick() {\n\t\tprops.onCardClick(card);\n\t}\n\n\tfunction handleDeleteClick() {\n\t\tprops.onCardDelete(card._id);\n\t}\n\n\tfunction handleCardLike() {\n\t\tprops.onCardLike(card._id);\n\t}\n\n\tfunction handleCardDislike() {\n\t\tprops.onCardDislike(card._id);\n\t}\n\n\treturn (\n\t\t<div className=\"photo-grid__item\">\n\t\t\t{isOwnCard && <button type=\"button\" className='photo-grid__trash-button hover-button' onClick={handleDeleteClick}></button>}\n\t\t\t<div style={{ backgroundImage: `url(${link})` }} className=\"photo-grid__image photo-grid__image-button hover-button\" type='button' onClick={handleClick}></div>\n\t\t\t<div className=\"photo-grid__description\">\n\t\t\t\t<h2 className=\"photo-grid__place\">{name}</h2>\n\t\t\t\t<div className=\"photo-grid__like-wrapper\">\n\t\t\t\t\t<button className={cardLikeButtonClassName} type=\"button\" onClick={isLiked ? handleCardDislike : handleCardLike}></button>\n\t\t\t\t\t<p className=\"photo-grid__likes-count\">{likes.length}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Card;","import React from 'react';\nimport plusButtonPath from '../images/plus.svg';\n// import api from '../utils/Api'\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n\n  const { onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardDelete, onCardLike, onCardDislike } = props;\n  const currentUser = React.useContext(CurrentUserContext);\n\n\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__infos\">\n          <figure className=\"profile__avatar-wrapper\" onClick={onEditAvatar}>\n            <div style={{ backgroundImage: `url(${currentUser.avatar})` }} className=\"profile__avatar\" src=\"#\" alt=\"изображение аватара\">\n            </div>\n          </figure>\n          <div className=\"profile__description\">\n            <div className='profile__info'>\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button className=\"profile__button profile__button_action_edit hover-button\" type=\"button\" onClick={onEditProfile}></button>\n            </div>\n            <p className=\"profile__profession\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button className=\"profile__button profile__button_action_add hover-button\" type=\"button\" onClick={onAddPlace}>\n          <img src={plusButtonPath} alt='изображение кнопки добавить' />\n        </button>\n      </section>\n      <section className=\"photo-grid\">\n        {cards.map((card) => (\n          <Card key={card._id} {...card} onCardClick={onCardClick} card={card} onCardDelete={onCardDelete} onCardLike={onCardLike} onCardDislike={onCardDislike}/>\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n\treturn (\n\t\t<footer className=\"footer\">\n\t\t\t<h3 className=\"footer__copyright\">© 2020 Mesto Russia</h3>\n\t\t</footer>\n\t);\n}\n\nexport default Footer;","import React from 'react';\n\nfunction ImagePopup(props) {\n\n\tconst { card, isOpen, onClose} = props;\n\n\treturn (\n\t\t<section className={`pop-up popup_type_image ${isOpen && 'pop-up_type_opened'}`}>\n\t\t\t<div className=\"pop-up__content\">\n\t\t\t\t<div className=\"pop-up__image-contnaiter\">\n\t\t\t\t\t<button className=\"pop-up__btn pop-up__btn_action_deny hover-button\" type=\"button\" onClick={onClose}>\n\t\t\t\t\t</button>\n\t\t\t\t\t<img className=\"pop-up__image\" src={card.link} alt='изображение' />\n\t\t\t\t\t<p className='pop-up__image-name'>{card.name}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t)\n}\n\nexport default ImagePopup;\n\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n\tconst { name, isOpen, onClose, title, children, onSubmit } = props;\n\t\n\treturn (\n\t\t\n\t\t<section className={`pop-up popup_type_${name} ${isOpen && 'pop-up_type_opened'}`} >\n\t\t\t<div className=\"pop-up__container\">\n\t\t\t\t<button className=\"pop-up__btn pop-up__btn_action_deny hover-button\" type=\"button\" onClick={onClose}>\n\t\t\t\t</button>\n\t\t\t\t<p className=\"pop-up__title\">{title}</p>\n\t\t\t\t<form className=\"pop-up__input pop-up__form\" method=\"GET\" noValidate onSubmit={onSubmit}>\n\t\t\t\t\t{children}\n\t\t\t\t\t<button className=\"pop-up__btn pop-up__btn_action_save\" type=\"submit\">\n\t\t\t\t\t\tСохранить\n\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</section>\n\t)\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup(props) {\n\tconst { isOpen, onClose, onUpdateUser } = props;\n\tconst [name, setName] = React.useState(\"\")\n  const [description, setDescription] = React.useState(\"\")\n\tconst currentUser = React.useContext(CurrentUserContext);\n\n\tReact.useEffect(() => {\n\t\tsetName(currentUser.name);\n\t\tsetDescription(currentUser.about);\n\t}, [currentUser]);\n\n\tfunction handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n\tfunction handleDiscriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tonUpdateUser({\n\t\t\tname,\n\t\t\tabout: description,\n\t\t});\n\t} \n\t\n\treturn (\n\t\t<PopupWithForm isOpen={isOpen} onClose={onClose} name='edit' title='Редактировать профиль' onSubmit={handleSubmit}>\n\t\t\t<input id='name-input' type=\"text\" className=\"pop-up__input pop-up__text\" name=\"name\" required minLength=\"2\" maxLength=\"40\" autoComplete=\"off\" value={name || ''} onChange={handleNameChange}/>\n\t\t\t<span id=\"name-input-error\" className=\"\"></span>\n\t\t\t<input id='profession-input' type=\"text\" className=\"pop-up__input pop-up__text \" name=\"about\"\n\t\t\t\trequired minLength=\"2\" maxLength=\"200\" autoComplete=\"off\" value={description || ''} onChange={handleDiscriptionChange}/>\n\t\t\t<span id=\"profession-input-error\" className=\"\"></span>\n\t\t</PopupWithForm>\n\t)\n}\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup(props) {\n\tconst { isOpen, onClose, onUpdateAvatar } = props;\n\tconst avatarRef = React.useRef('');\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tonUpdateAvatar({\n\t\t\tavatar: avatarRef.current.value\n\t\t});\n\t}\n\t\n\treturn (\n\t\t<PopupWithForm isOpen={isOpen} onClose={onClose} name='edit-avatar' title='Обновить аватар' onSubmit={handleSubmit}>\n\t\t\t<input id='place' type=\"url\" className=\"pop-up__text pop-up__text_type_place\" placeholder=\"ссылка\"\n\t\t\t\tname=\"avatar\" required ref={avatarRef} defaultValue=''/>\n\t\t\t<span id=\"place-error\" className=\"\"></span>\n\t\t</PopupWithForm>\n\t)\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup(props) {\n\tconst { isOpen, onClose, onAddPlace } = props;\n\tconst [placeLink, setPlaceLink] = React.useState('')\n  const [placeName, setPlaceName] = React.useState('')\n\n\tfunction handlePlaceNameChange(e) {\n    setPlaceName(e.target.value);\n  }\n\n\tfunction handlePlaceLinkChange(e) {\n    setPlaceLink(e.target.value);\n\t}\n\t\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tonAddPlace({\n\t\t\tname: placeName,\n\t\t\tlink: placeLink\n\t\t});\n\t}\n\t\n\treturn (\n\t\t<PopupWithForm isOpen={isOpen} onClose={onClose} name='new-card' title='Новое место' onSubmit={handleSubmit}>\n\t\t\t<input id='place' type=\"text\" className=\"pop-up__text pop-up__text_type_place\" placeholder=\"Название\"\n\t\t\t\tname=\"name\" required minLength=\"1\" maxLength=\"30\" onChange={handlePlaceNameChange} value={placeName}/>\n\t\t\t<span id=\"place-error\" className=\"\"></span>\n\t\t\t<input id='url' type=\"url\" className=\"pop-up__text pop-up__text_type_link\" placeholder=\"Ссылка на картинку\"\n\t\t\t\tname='link' required onChange={handlePlaceLinkChange} value={placeLink}/>\n\t\t\t<span id=\"url-error\" className=\"\"></span>\n\t\t</PopupWithForm>\n\t)\n}\n\nexport default AddPlacePopup;\n\n\n\n\n","class Api {\n\tconstructor(options) {\n\t\tthis._baseUrl = options.baseUrl;\n\t\tthis._headers = options.headers;\n\t}\n\n\t_getResponseData() {\n\t\treturn res => {\n\t\t\tif (res.ok) {\n\t\t\t\treturn res.json();\n\t\t\t}\n\t\t\treturn Promise.reject(new Error(`Ошибка: ${res.status}`))\n\t\t\t\t.then((result) => {\n\t\t\t\t\treturn result\n\t\t\t\t})\n\t\t}\n\t}\n\n\tgetInitialCards() {\n\t\treturn fetch(`${this._baseUrl}/cards`, {\n\t\t\theaders: this._headers\n\t\t}).then(this._getResponseData())\n\t}\n\n\tgetUserInfo() {\n\t\treturn fetch(`${this._baseUrl}/users/me`, {\n\t\t\theaders: this._headers\n\t\t}).then(this._getResponseData())\n\t}\n\n\tpostCard(newCard) {\n\t\treturn fetch(`${this._baseUrl}/cards`, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: this._headers,\n\t\t\tbody: JSON.stringify({\n\t\t\t\tname: newCard.name,\n\t\t\t\tlink: newCard.link\n\t\t\t})\n\t\t}).then(this._getResponseData())\n\t}\n\n\tdeleteCard(id) {\n\t\treturn fetch(`${this._baseUrl}/cards/${id}`, {\n\t\t\tmethod: 'DELETE',\n\t\t\theaders: this._headers\n\t\t}).then(this._getResponseData())\n\t}\n\n\tpatchUserInfo(newData) {\n\t\treturn fetch(`${this._baseUrl}/users/me/`, {\n\t\t\tmethod: 'PATCH',\n\t\t\theaders: this._headers,\n\t\t\tbody: JSON.stringify({\n\t\t\t\tname: newData.name,\n\t\t\t\tabout: newData.about\n\t\t\t})\n\t\t}).then(this._getResponseData())\n\t}\n\n\tpatchAvatar(newData) {\n\t\treturn fetch(`${this._baseUrl}/users/me/avatar`, {\n\t\t\tmethod: 'PATCH',\n\t\t\theaders: this._headers,\n\t\t\tbody: JSON.stringify({\n\t\t\t\tavatar: newData.avatar\n\t\t\t})\n\t\t}).then(this._getResponseData())\n\t}\n\n\tputLike(id) {\n\t\treturn fetch(`${this._baseUrl}/cards/likes/${id}`, {\n\t\t\tmethod: 'PUT',\n\t\t\theaders: this._headers\n\t\t})\n\t\t\t.then(this._getResponseData())\n\t\t\t// .then((data) => {\n\t\t\t// \treturn (data.likes.length)\n\t\t\t// })\n\t}\n\n\tremoveLike(id) {\n\t\treturn fetch(`${this._baseUrl}/cards/likes/${id}`, {\n\t\t\tmethod: 'DELETE',\n\t\t\theaders: this._headers\n\t\t})\n\t\t\t.then(this._getResponseData())\n\t\t\t// .then((data) => {\n\t\t\t// \treturn (data.likes.length)\n\t\t\t// })\n\t}\n}\n\nconst api = new Api({\n\tbaseUrl: 'https://mesto.nomoreparties.co/v1/cohort-15',\n\theaders: {\n\t\tauthorization: 'bfb56561-5ac4-4046-893e-dcc4ab3eace0',\n\t\t'Content-Type': 'application/json'\n\t}\n});\n\nexport default api\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport api from '../utils/Api'\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [isCardPopupOpen, setCardPopupOpen] = React.useState(false)\n  const [currentUser, setcurrentUser] = React.useState({})\n  const [cards, getCards] = React.useState([])\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((data) => {\n        const items = data.map((el) => ({\n          _id: el._id,\n          name: el.name,\n          link: el.link,\n          likes: el.likes,\n          owner: el.owner\n        }))\n\n        getCards(items);\n      })\n      .catch(err => console.log(err))\n  }, [])\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((data) => {\n        setcurrentUser(data)\n      })\n      .catch(err => console.log(err))\n  }, [])\n\n  function handleCardClick(card) {\n    setCardPopupOpen(true)\n    setSelectedCard(card)\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true)\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true)\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false)\n    setAddPlacePopupOpen(false)\n    setEditProfilePopupOpen(false)\n    setCardPopupOpen(false)\n  }\n\n  function handleCardDelete(id) {\n    api.deleteCard(id)\n      .then(() => {\n        getCards(cards.filter(card => card._id !== id))\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleCardDislike(id) {\n    api.removeLike(id)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === id ? newCard : c);\n        getCards(newCards);\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleCardLike(id) {\n    api.putLike(id)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === id ? newCard : c);\n        getCards(newCards);\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleUpdateUser(newData) {\n    api.patchUserInfo(newData)\n      .then((data) => {\n        setcurrentUser(data)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleUpdateAvatar(newAvatar) {\n    api.patchAvatar(newAvatar)\n      .then((data) => {\n        setcurrentUser(data)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    api.postCard(newCard)\n      .then((data) => {\n        getCards([...cards, data]); \n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className='page'>\n        <div className=\"page__content\">\n          <Header />\n          <Main\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardDelete={handleCardDelete}\n            onCardLike={handleCardLike}\n            onCardDislike={handleCardDislike}\n            cards={cards}\n          />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <ImagePopup\n            card={selectedCard}\n            isOpen={isCardPopupOpen}\n            onClose={closeAllPopups}\n          />\n          <Footer />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus.b2fce4ac.svg\";"],"sourceRoot":""}